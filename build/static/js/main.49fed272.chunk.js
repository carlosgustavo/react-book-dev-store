(this["webpackJsonpbook-store"]=this["webpackJsonpbook-store"]||[]).push([[0],{106:function(n,e,t){"use strict";t.r(e);var r=t(1),a=t.n(r),c=t(19),o=t.n(c),i=t(21),u=t(16),l=(t(73),t(85),t(86),t(18)),s=t(8),d=t(9);t(87);function p(){var n=Object(s.a)(["\n@import url('https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Poppins&display=swap');\n  * {\n    margin: 0;\n    padding: 0;\n    outline: 0;\n    box-sizing: border-box;\n  }\n\n  body {\n    background-color: #330033;\nbackground-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400' viewBox='0 0 800 800'%3E%3Cg fill='none' stroke='%23404' stroke-width='1'%3E%3Cpath d='M769 229L1037 260.9M927 880L731 737 520 660 309 538 40 599 295 764 126.5 879.5 40 599-197 493 102 382-31 229 126.5 79.5-69-63'/%3E%3Cpath d='M-31 229L237 261 390 382 603 493 308.5 537.5 101.5 381.5M370 905L295 764'/%3E%3Cpath d='M520 660L578 842 731 737 840 599 603 493 520 660 295 764 309 538 390 382 539 269 769 229 577.5 41.5 370 105 295 -36 126.5 79.5 237 261 102 382 40 599 -69 737 127 880'/%3E%3Cpath d='M520-140L578.5 42.5 731-63M603 493L539 269 237 261 370 105M902 382L539 269M390 382L102 382'/%3E%3Cpath d='M-222 42L126.5 79.5 370 105 539 269 577.5 41.5 927 80 769 229 902 382 603 493 731 737M295-36L577.5 41.5M578 842L295 764M40-201L127 80M102 382L-261 269'/%3E%3C/g%3E%3Cg fill='%230a585c'%3E%3Ccircle cx='769' cy='229' r='5'/%3E%3Ccircle cx='539' cy='269' r='5'/%3E%3Ccircle cx='603' cy='493' r='5'/%3E%3Ccircle cx='731' cy='737' r='5'/%3E%3Ccircle cx='520' cy='660' r='5'/%3E%3Ccircle cx='309' cy='538' r='5'/%3E%3Ccircle cx='295' cy='764' r='5'/%3E%3Ccircle cx='40' cy='599' r='5'/%3E%3Ccircle cx='102' cy='382' r='5'/%3E%3Ccircle cx='127' cy='80' r='5'/%3E%3Ccircle cx='370' cy='105' r='5'/%3E%3Ccircle cx='578' cy='42' r='5'/%3E%3Ccircle cx='237' cy='261' r='5'/%3E%3Ccircle cx='390' cy='382' r='5'/%3E%3C/g%3E%3C/svg%3E\");\n    -webkit-font-smoothing: antialiased !important;\n  }\n\n  body, input, button {\n   font: 14px 'Ubuntu', -apple-system, BlinkMacSystemFont, \"Segoe UI\", sans-serif;\n  }\n\n  #root {\n    max-width: 1020px;\n    margin: 0 auto;\n    padding: 0 20px 50px;\n  }\n\n  button {\n    cursor: pointer;\n  }\n"]);return p=function(){return n},n}var f=Object(d.a)(p()),m=t(22),b=t(29);function g(){var n=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n  transition: opacity 0.2s;\n\n  &:hover {\n    opacity: 0.7;\n  }\n\n  div {\n    text-align: right;\n    margin-left: 10px;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n\n    strong {\n      display: block;\n      color: #fff;\n      font-size: 18px;\n    }\n\n    span {\n      font-size: 16px;\n      color: #00bd56;\n    }\n  }\n"]);return g=function(){return n},n}function x(){var n=Object(s.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 50px 0;\n"]);return x=function(){return n},n}var E=d.c.header(x()),h=Object(d.c)(m.a)(g()),v=t(59),y=t.n(v);function O(){var n=Object(u.c)((function(n){return n.cart.length}));return a.a.createElement(E,null,a.a.createElement(m.a,{to:"/"},a.a.createElement("img",{src:y.a,alt:"Rocketshoes"})),a.a.createElement(h,{to:"/cart"},a.a.createElement(b.a,{size:40,color:"#fff"}),a.a.createElement("div",null,a.a.createElement("strong",null,"Meu carrinho"),a.a.createElement("span",null,n," itens"))))}var j=t(11),k=t.n(j),w=t(24),C=t(30),z=t(26),M=t(61),S=t(31),U=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format,L=t(60),T=t.n(L).a.create({baseURL:"https://my-json-server.typicode.com/carlosgustavo/api-react-book-dev-store"});function P(n,e){return{type:"@cart/UPDATE_AMOUNT_REQUEST",id:n,amount:e}}function A(n,e){return{type:"@cart/UPDATE_AMOUNT_SUCCESS",id:n,amount:e}}function D(){var n=Object(s.a)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-gap: 20px;\n  list-style: none;\n  li {\n    display: flex;\n    flex-direction: column;\n    background: #fff;\n    border-radius: 4px;\n    padding: 20px;\n    img {\n      align-self: center;\n      max-width: 200px;\n    }\n    > strong {\n      font-size: 20px;\n      line-height: 20px;\n      color: #00072d;\n      margin-top: 5px;\n      padding: 8px 0 8px 0;\n    }\n    h3 {\n      font-family: 'Poppins', sans-serif;\n      color: #001c55;\n      padding: 3px 0 8px 0;\n      font-size: 16px;\n      font-weight: 400;\n    }\n    > span {\n      font-size: 21px;\n      font-weight: bold;\n      margin: 5px 0 20px;\n    }\n    main {\n      display: flex;\n      align-items: center;\n      justify-content: space-around;\n    }\n    div {\n      display: flex;\n      align-items: center;\n      padding: 7px;\n\n      /*  background: rgba(0, 0, 0, 0.1); */\n      svg {\n        margin-right: 5px;\n      }\n      span {\n        font-size: 20px;\n        span {\n          flex: 1;\n          text-align: center;\n          font-weight: bold;\n        }\n      }\n    }\n\n    button {\n      background: #541d4d;\n      color: #fff;\n      border: 0;\n      border-radius: 4px;\n      overflow: hidden;\n      margin-top: auto;\n      display: flex;\n      align-items: center;\n      transition: background 0.3s;\n      padding: 15px 30px;\n\n      &:hover {\n        background-color: white;\n        color: #00bd56;\n        border: 1px solid #4caf50;\n      }\n\n      /*    div {\n        display: flex;\n        align-items: center;\n        padding: 12px;\n        background: rgba(0, 0, 0, 0.1);\n      }\n      svg {\n        margin-right: 5px;\n\n      } */\n    }\n    /*     span {\n      flex: 1;\n      text-align: center;\n      font-weight: bold;\n    } */\n  }\n"]);return D=function(){return n},n}function F(){var n=Object(s.a)(["\n      svg {\n        animation: "," 0.8s linear infinite;\n      }\n    "]);return F=function(){return n},n}function _(){var n=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 200px;\n\n  ","\n"]);return _=function(){return n},n}function R(){var n=Object(s.a)(["\n  from {\n    transform: rotate(0deg)\n  }\n\n  to {\n    transform: rotate(360deg)\n  }\n"]);return R=function(){return n},n}var B=Object(d.d)(R()),Q=d.c.div(_(),(function(n){return n.loadingProducts&&Object(d.b)(F(),B)})),N=d.c.ul(D());function I(){var n=Object(r.useState)([]),e=Object(z.a)(n,2),t=e[0],c=e[1],o=Object(r.useState)(!1),i=Object(z.a)(o,2),l=i[0],s=i[1],d=Object(u.c)((function(n){return n.cart.reduce((function(n,e){return n[e.id]=e.amount,n}),{})})),p=Object(u.b)();return Object(r.useEffect)((function(){var n=function(n){return new Promise((function(e){return setTimeout(e,n)}))};function e(){return(e=Object(C.a)(k.a.mark((function e(){var t,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,T.get("products");case 3:return t=e.sent,r=t.data.map((function(n){return Object(w.a)({},n,{priceFormatted:U(n.price)})})),e.next=7,n(1e3);case 7:c(r),s(!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),l?a.a.createElement(Q,{loadingProducts:l},a.a.createElement(S.a,{size:80,color:"#FFF"})):a.a.createElement(N,null,t.map((function(n){return a.a.createElement("li",{key:n.id},a.a.createElement("img",{src:n.image,alt:n.title}),a.a.createElement("strong",null,n.title),a.a.createElement("h3",null," ",n.description),a.a.createElement("span",null,n.priceFormatted),a.a.createElement("main",null,a.a.createElement("button",{type:"button",onClick:function(){return e=n.id,void p(function(n){return{type:"@cart/ADD_REQUEST",id:n}}(e));var e}},a.a.createElement("span",null," Adicionar ao Carrinho")),a.a.createElement("div",null,a.a.createElement(M.a,{size:35,color:"#00BD56"})," ",a.a.createElement("span",null,d[n.id]||0))))})))}var V=t(32);function q(){var n=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  button {\n    margin-top: 40px;\n    background: #541d4d;\n    color: #fff;\n    border: 0;\n    border-radius: 5px;\n    padding: 15px 20px;\n    font-weight: bold;\n    text-transform: uppercase;\n    transition: background 0.2s;\n\n    &:hover {\n      opacity: 0.75;\n    }\n  }\n"]);return q=function(){return n},n}function J(){var n=Object(s.a)(["\n  display: flex;\n  align-items: baseline;\n\n  span {\n    color: #999;\n    font-weight: bold;\n  }\n\n  strong {\n    font-size: 28px;\n    margin-left: 5px;\n  }\n"]);return J=function(){return n},n}function H(){var n=Object(s.a)(["\n  width: 100%;\n\n  thead th {\n    color: #333;\n    text-align: left;\n    padding: 12px;\n    font-size: 16px;\n  }\n\n  tbody td {\n    padding: 12px;\n    border-bottom: 1px solid #eee;\n  }\n\n  img {\n    height: 100px;\n  }\n\n  strong {\n    font-size: 20px;\n    line-height: 20px;\n    color: #00072d;\n    margin-top: 5px;\n    padding: 8px 0 8px 0;\n  }\n  h3 {\n    font-family: 'Poppins', sans-serif;\n    color: #001c55;\n    padding: 3px 0 8px 0;\n    font-size: 16px;\n    font-weight: 400;\n  }\n  span {\n    display: block;\n    margin-top: 5px;\n    font-size: 18px;\n    font-weight: bold;\n  }\n\n  div {\n    display: flex;\n    align-items: center;\n\n    input {\n      border: 1px solid #ddd;\n      border-radius: 4px;\n      color: #666;\n      padding: 8px;\n      width: 50px;\n    }\n  }\n\n  button {\n    background: none;\n    border: 0;\n    padding: 6px;\n    font-size: 23px;\n  }\n"]);return H=function(){return n},n}function G(){var n=Object(s.a)(["\n  padding: 30px;\n  background: #fff;\n  border-radius: 4px;\n\n  footer {\n    margin-top: 30px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    button {\n      background: #541d4d;\n      color: #fff;\n      border: 0;\n      border-radius: 4px;\n      padding: 12px 20px;\n      font-weight: bold;\n      text-transform: uppercase;\n      transition: background 0.2s;\n\n      &:hover {\n        opacity: 0.75;\n      }\n    }\n  }\n"]);return G=function(){return n},n}function K(){var n=Object(s.a)(["\n      svg {\n        animation: "," 0.8s linear infinite;\n      }\n    "]);return K=function(){return n},n}function W(){var n=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 200px;\n\n  ","\n"]);return W=function(){return n},n}function X(){var n=Object(s.a)(["\n  from {\n    transform: rotate(0deg)\n  }\n\n  to {\n    transform: rotate(360deg)\n  }\n"]);return X=function(){return n},n}var Y=Object(d.d)(X()),Z=d.c.div(W(),(function(n){return n.loadingProducts&&Object(d.b)(K(),Y)})),$=d.c.div(G()),nn=d.c.table(H()),en=d.c.div(J()),tn=d.c.div(q());function rn(){var n=Object(r.useState)(!1),e=Object(z.a)(n,2),t=e[0],c=e[1],o=Object(i.f)(),l=Object(u.c)((function(n){return U(n.cart.reduce((function(n,e){return n+e.price*e.amount}),0))})),s=Object(u.c)((function(n){return n.cart.map((function(n){return Object(w.a)({},n,{subtotal:U(n.price*n.amount)})}))})),d=Object(u.b)();return Object(r.useEffect)((function(){var n=function(n){return new Promise((function(e){return setTimeout(e,n)}))};function e(){return(e=Object(C.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,n(3e3);case 3:c(!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),t?a.a.createElement(Z,{loadingProducts:t},a.a.createElement(S.a,{size:80,color:"#FFF"})):0===s.length?a.a.createElement($,null,a.a.createElement(tn,null,a.a.createElement(V.c,{size:48,color:"#333"}),a.a.createElement("h1",null,"Seu carrinho est\xe1 vazio"),a.a.createElement("button",{onClick:function(){o.push("/")},type:"button"}," ","Voltar para Home"))):a.a.createElement($,null,a.a.createElement(nn,null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null," "),a.a.createElement("th",null,"PRODUTO"),a.a.createElement("th",null,"QTD"),a.a.createElement("th",null,"SUBTOTAL"),a.a.createElement("th",null," "))),a.a.createElement("tbody",null,s.map((function(n){return a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("img",{src:n.image,alt:n.title})),a.a.createElement("td",null,a.a.createElement("strong",null,n.title," ")," ",a.a.createElement("h3",null,n.description," "),a.a.createElement("span",null,n.priceFormatted)),a.a.createElement("td",null,a.a.createElement("div",null,a.a.createElement("button",{type:"button",onClick:function(){return function(n){d(P(n.id,n.amount-1))}(n)}},a.a.createElement(V.b,{size:25,color:"#7159c1"})),a.a.createElement("input",{type:"number",readOnly:!0,value:n.amount}),a.a.createElement("button",{type:"button",onClick:function(){return function(n){d(P(n.id,n.amount+1))}(n)}},a.a.createElement(V.a,{size:25,color:"#7159c1"})))),a.a.createElement("td",null,a.a.createElement("strong",null,n.subtotal)),a.a.createElement("td",null,a.a.createElement("button",{type:"button",onClick:function(){return d({type:"@cart/REMOVE",id:n.id})}},a.a.createElement(b.b,{syze:20,color:"#9159c1"}))))})))),a.a.createElement("footer",null,a.a.createElement("button",{type:"button"},"Finalizar pedido"),a.a.createElement(en,null,a.a.createElement("span",null,"TOTAL"),a.a.createElement("strong",null,l))))}function an(){return a.a.createElement(i.c,null,a.a.createElement(i.a,{path:"/",exact:!0,component:I}),a.a.createElement(i.a,{path:"/cart",component:rn}))}var cn=t(12),on=Object(cn.a)(),un=t(17),ln=t(62),sn=t(13),dn=k.a.mark(fn),pn=k.a.mark(mn);function fn(n){var e,t,r,a,c,o,i,u;return k.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e=n.id,s.next=3,Object(sn.select)((function(n){return n.cart.find((function(n){return n.id===e}))}));case 3:return t=s.sent,s.next=6,Object(sn.call)(T.get,"/stock/".concat(e));case 6:if(r=s.sent,a=r.data.amount,c=t?t.amount:0,!((o=c+1)>a)){s.next=13;break}return l.b.error("Quantidade solicitada fora de estoque!"),s.abrupt("return");case 13:if(!t){s.next=19;break}return s.next=16,Object(sn.put)(A(e,o));case 16:l.b.success("Produdo adicionado ao carrinho com sucesso!"),s.next=26;break;case 19:return s.next=21,Object(sn.call)(T.get,"/products/".concat(e));case 21:return i=s.sent,u=Object(w.a)({},i.data,{amount:1,priceFormatted:U(i.data.price)}),s.next=25,Object(sn.put)({type:"@cart/ADD_SUCCESS",product:u});case 25:l.b.success("Produdo adicionado ao carrinho com sucesso!");case 26:case"end":return s.stop()}}),dn)}function mn(n){var e,t,r,a;return k.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(e=n.id,!((t=n.amount)<=0)){c.next=3;break}return c.abrupt("return");case 3:return c.next=5,Object(sn.call)(T.get,"stock/".concat(e));case 5:if(r=c.sent,a=r.data.amount,!(t>a)){c.next=10;break}return l.b.error("Quantidade solicitada fora de estoque"),c.abrupt("return");case 10:return c.next=12,Object(sn.put)(A(e,t));case 12:case"end":return c.stop()}}),pn)}var bn=Object(sn.all)([Object(sn.takeLatest)("@cart/ADD_REQUEST",fn),Object(sn.takeLatest)("@cart/UPDATE_AMOUNT_REQUEST",mn)]),gn=k.a.mark(xn);function xn(){return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(sn.all)([bn]);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),gn)}var En=t(33);var hn=Object(un.c)({cart:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"@cart/ADD_SUCCESS":return Object(En.a)(n,(function(n){var t=e.product;n.push(t)}));case"@cart/REMOVE":return Object(En.a)(n,(function(n){var t=n.findIndex((function(n){return n.id===e.id}));t>=0&&(n.splice(t,1),l.b.warn("Produto removido do carrinho com sucesso!"))}));case"@cart/UPDATE_AMOUNT_SUCCESS":return Object(En.a)(n,(function(n){var t=n.findIndex((function(n){return n.id===e.id}));t>=0&&(n[t].amount=Number(e.amount))}));default:return n}}}),vn=Object(ln.a)({sagaMonitor:null}),yn=Object(un.a)(vn),On=Object(un.e)(hn,yn);vn.run(xn);var jn=On;var kn=function(){return a.a.createElement(u.a,{store:jn},a.a.createElement(i.b,{history:on},a.a.createElement(O,null),a.a.createElement(an,null),a.a.createElement(f,null),a.a.createElement(l.a,{autoClose:2e3})))};o.a.render(a.a.createElement(kn,null),document.getElementById("root"))},59:function(n,e,t){n.exports=t.p+"static/media/logo.68967750.svg"},64:function(n,e,t){n.exports=t(106)}},[[64,1,2]]]);
//# sourceMappingURL=main.49fed272.chunk.js.map